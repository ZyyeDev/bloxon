[gd_scene load_steps=9 format=3 uid="uid://cnbofr3blyuo1"]

[ext_resource type="Script" uid="uid://b0q35732nwgsw" path="res://scenes/menus/friend.gd" id="1_uulmx"]
[ext_resource type="Shader" uid="uid://dae1fb2qjpx2p" path="res://assets/shader/cicleImg.gdshader" id="2_0qgie"]
[ext_resource type="Texture2D" uid="uid://bwi50liih46v3" path="res://assets/images/fallbackPfp.png" id="3_km3aq"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_7g7of"]
bg_color = Color(0.2, 0.2, 0.2, 1)
corner_radius_top_left = 30
corner_radius_top_right = 30
corner_radius_bottom_right = 30
corner_radius_bottom_left = 30

[sub_resource type="ShaderMaterial" id="ShaderMaterial_d5ll2"]
shader = ExtResource("2_0qgie")

[sub_resource type="GDScript" id="GDScript_0rgjm"]
script/source = "@tool
extends Sprite2D

@export var targetSize: Vector2 = Vector2(128, 128) 

func _process(delta: float) -> void:
	updateScale()

func updateScale():
	if texture == null:
		return
	var texSize = texture.get_size()
	if texSize == Vector2.ZERO:
		return
	
	var scaleX = targetSize.x / texSize.x
	var scaleY = targetSize.y / texSize.y
	scale = Vector2(scaleX, scaleY)
"

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_lfmkb"]
bg_color = Color(0.2, 0.8, 0.2, 1)
corner_radius_top_left = 6
corner_radius_top_right = 6
corner_radius_bottom_right = 6
corner_radius_bottom_left = 6

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_tcga0"]

[node name="Friend" type="Control" node_paths=PackedStringArray("uLabel", "infoPanel")]
custom_minimum_size = Vector2(80, 100)
layout_mode = 3
anchors_preset = 0
offset_right = 83.0
offset_bottom = 100.0
script = ExtResource("1_uulmx")
uLabel = NodePath("_Label_39")
infoPanel = NodePath("Info")

[node name="_Panel_37" type="Panel" parent="."]
layout_mode = 0
offset_left = 10.0
offset_top = 10.0
offset_right = 70.0
offset_bottom = 70.0
theme_override_styles/panel = SubResource("StyleBoxFlat_7g7of")

[node name="Sprite2D" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_d5ll2")
position = Vector2(40, 40)
scale = Vector2(0.06, 0.06)
texture = ExtResource("3_km3aq")
script = SubResource("GDScript_0rgjm")
targetSize = Vector2(60, 60)

[node name="Online" type="Panel" parent="."]
layout_mode = 0
offset_left = 55.0
offset_top = 15.0
offset_right = 67.0
offset_bottom = 27.0
theme_override_styles/panel = SubResource("StyleBoxFlat_lfmkb")

[node name="_Label_39" type="Label" parent="."]
layout_mode = 0
offset_left = 2.0
offset_top = 73.0
offset_right = 85.0
offset_bottom = 96.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_font_sizes/font_size = 10
text = "FRIEND_NAME"
horizontal_alignment = 1

[node name="_Button_40" type="Button" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 7.0
offset_top = 7.0
offset_right = -7.0
offset_bottom = -13.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/focus = SubResource("StyleBoxEmpty_tcga0")
flat = true

[node name="Info" type="Panel" parent="."]
visible = false
layout_mode = 0
offset_left = 2.0
offset_top = 90.0
offset_right = 82.0
offset_bottom = 131.0

[node name="Join" type="Button" parent="Info"]
layout_mode = 0
offset_top = 5.0
offset_right = 80.0
offset_bottom = 36.0
text = "Join"

[connection signal="mouse_entered" from="_Button_40" to="." method="_on_mouse_entered"]
[connection signal="mouse_exited" from="_Button_40" to="." method="_on_mouse_exited"]
[connection signal="pressed" from="_Button_40" to="." method="_on__button_40_pressed"]
[connection signal="mouse_entered" from="Info/Join" to="." method="_on_mouse_entered"]
[connection signal="mouse_exited" from="Info/Join" to="." method="_on_mouse_exited"]
[connection signal="pressed" from="Info/Join" to="." method="_on_join_pressed"]
